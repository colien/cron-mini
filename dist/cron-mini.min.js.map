{"version":3,"file":"./cron-mini.min.js","mappings":"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","sources":["webpack://CronMini/webpack/universalModuleDefinition","webpack://CronMini/./src/cronParser.js","webpack://CronMini/./src/customTimer.js","webpack://CronMini/./src/utils.js","webpack://CronMini/webpack/bootstrap","webpack://CronMini/./src/cronActuator.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CronMini\"] = factory();\n\telse\n\t\troot[\"CronMini\"] = factory();\n})(self, function() {\nreturn ","/** cron 表达式解析\r\n*/\r\n\r\nexports.CronParser = CronParser;\r\n\r\nfunction CronParser (cron){\r\n  if(!(this instanceof CronParser)){\r\n    return new CronParser(cron)\r\n  }\r\n  this.cron = cron;\r\n  var timeArea = cronParse(this.cron);\r\n  this.timeEnum  = calcTime(timeArea);\r\n}\r\n\r\n// 解析 cron 表达式\r\nfunction cronParse (cron){\r\n  var crons = cron.split(\" \");\r\n  var rex = /^((([0-9]{1,2}([-\\/][0-9]{1,2})?)(,[0-9]{1,2}([-\\/][0-9]{1,2})?)*)|[\\*\\?])$/;\r\n  var cronList = [];\r\n  var len = crons.length;\r\n  // 如果后面的没有填，自动的回填 *\r\n  for(var n = len; n < 6; n++){\r\n    crons[n].push(\"*\");\r\n  }\r\n  // 解析里面的每一项\r\n  for(var i = 0; i < crons.length; i++){\r\n    var item = crons[i];\r\n    if(!rex.test(item)){\r\n      return ;\r\n    }\r\n    // 所有的日期都按 0-60 算，后面会截取有效的日期\r\n    if(item == \"*\" || item == \"?\"){  // 不限\r\n      cronList.push(parserItem(\"0-60\"));\r\n      continue;\r\n    }\r\n    // 逗号的最大的分类，先解析逗号\r\n    if(item.indexOf(\",\") > -1){// 枚举\r\n      var times = item.split(/[\\,]/g);\r\n      var arr = []\r\n      for(var n = 0; n < times.length; n++){\r\n        arr = arr.concat(parserItem(times[n]));\r\n      }\r\n      cronList.push(arr);\r\n      continue\r\n    }\r\n    cronList.push(parserItem(item));\r\n  }\r\n  return cronList;\r\n}\r\n// 解析每一项\r\nfunction parserItem(item){\r\n  var arr = [];\r\n  if(item.indexOf(\"-\") > -1){ //范围\r\n    var times = item.split(/[-]/g);\r\n    var start = parseInt(times[0]);\r\n    var end = Math.min(parseInt(times[1]), 60); // 减少循环次数\r\n    for(var x = start; x <= end; x++){\r\n      arr.push(x);\r\n    }\r\n    return arr;\r\n  }\r\n  if(item.indexOf(\"/\") > -1){ // 间隔\r\n    var times = item.split(/[\\/]/g);\r\n    var start = parseInt(times[0]);\r\n    var step = parseInt(times[1]);\r\n    for(var x = start; x <= 60; x = x + step){\r\n      arr.push(x);\r\n    }\r\n    return arr;\r\n  } \r\n  // 指定的时间\r\n  return [parseInt(item)];\r\n}\r\n\r\n// 计算定时任务时间\r\nfunction calcTime (cronList){\r\n  if(!cronList){\r\n    return {};\r\n  }\r\n  var data = {};\r\n  for(var i = 0; i < cronList.length; i++){\r\n    var item = cronList[i];\r\n    if(i == 0){ // 秒\r\n      data.second = normalizaTime(item, 0, 59);\r\n    }else if(i == 1){ // 分钟\r\n      data.minute = normalizaTime(item, 0, 59);\r\n    }else if(i == 2){ // 小时\r\n      data.hour = normalizaTime(item, 0, 23);\r\n    }else if(i == 3){ // 天\r\n      data.day = normalizaTime(item, 1, 31);\r\n    }else if(i == 4){ // 月\r\n      data.month = normalizaTime(item, 1, 12);\r\n    }else{  // 星期\r\n      data.week = normalizaTime(item, 1, 7);\r\n    }\r\n  }\r\n  return data;\r\n}\r\n\r\n// 规范数据\r\nfunction normalizaTime(times, min, max){\r\n  var data = {\r\n    times : [],\r\n  };\r\n  for(var i = 0; i < times.length; i++){\r\n    var item = times[i];\r\n    if(item >= min && item <= max){\r\n      data.times.push(item);\r\n    }\r\n  }\r\n  data.times.sort(function(a, b){return a - b});\r\n  return data;\r\n}\r\n","/** opts 的格式\r\n  {\r\n    timeout : x\r\n    interval : x\r\n  }\r\n*/\r\nfunction CustomTimer(opts, cb){\r\n  if(!(this instanceof CustomTimer)){\r\n    return new CustomTimer(opts);\r\n  }\r\n  this.timeout = null;\r\n  this.interval = null;\r\n  this.opts = opts;\r\n  this.cb = cb;\r\n}\r\n\r\nCustomTimer.prototype.setTimeout = function (fn, time){\r\n  this.timeout = setTimeout(function(){\r\n    fn();\r\n  }, time);\r\n  return this.timeout;\r\n}\r\nCustomTimer.prototype.setInterval = function (fn, time){\r\n  this.interval = setInterval(function (){\r\n    fn();\r\n  }, time);\r\n  return this.interval;\r\n}\r\nCustomTimer.prototype.clear = function(){\r\n  this.clearInterval();\r\n  this.clearTimeout();\r\n}\r\nCustomTimer.prototype.clearInterval = function(){\r\n  clearInterval(this.interval);\r\n  this.interval = null;\r\n}\r\nCustomTimer.prototype.clearTimeout = function(){\r\n  clearTimeout(this.timeout);\r\n  this.timeout = null;\r\n}\r\nCustomTimer.prototype.start = function(){\r\n  var self = this;\r\n  var opts = this.opts;\r\n  // 有 timeout 的定时任务 type [1,2,3]\r\n  if(opts.timeout){ \r\n    // type [1] 的定时任务才会进来\r\n    if(opts.interval){\r\n      self.setTimeout(function(){\r\n        self.setInterval(function(){\r\n          self.cb();\r\n        }, opts.interval);\r\n        if(opts.immedi){\r\n          self.cb();\r\n        }\r\n        // 定时任务执行完了需要删除\r\n        self.clearTimeout();\r\n      }, opts.timeout);\r\n    }else{\r\n      self.setTimeout(function(){\r\n        self.cb();\r\n        self.clearTimeout();\r\n      }, opts.timeout);\r\n    }\r\n    return;\r\n  }\r\n  // 普通的 interval 定时 type [1]\r\n  if(opts.interval){\r\n    self.setInterval(function(){\r\n      self.cb();\r\n    }, opts.interval);\r\n    return;\r\n  }\r\n  self.cb();\r\n}\r\n\r\nexports.CustomTimer = CustomTimer;","function isObject(obj){\r\n  return Object.prototype.toString.call(obj) == \"[object Object]\" && obj !== null;\r\n}\r\n\r\nexports.isObject = isObject;\r\n\r\nfunction isFun(fn){\r\n  return Object.prototype.toString.call(fn) == \"[object Function]\";\r\n}\r\nexports.isFun = isFun;\r\n\r\nfunction isArray(arr) {\r\n  return Object.prototype.toString.call(arr) == \"[object Array]\";\r\n}\r\nexports.isArray = isArray;\r\n\r\nfunction isString(str){\r\n  return Object.prototype.toString.call(str) == \"[object String]\";\r\n}\r\nexports.isString = isString;\r\n\r\nfunction isNumber(num){\r\n  return Object.prototype.toString.call(num) == \"[object Number]\";\r\n}\r\nexports.isNumber = isNumber;\r\n\r\nfunction isDate(date){\r\n  return date instanceof Date;\r\n}\r\nexports.isDate = isDate\r\n\r\n/** 计算某年某月有多少天\r\n */\r\nfunction getDaysInYearMonth(year, month, day){\r\n  day = day || 0;\r\n  return new Date(year, month, day);\r\n}\r\nexports.getDaysInYearMonth = getDaysInYearMonth;\r\n\r\n// 获取目标月数\r\nfunction getTargetDate(date, day){\r\n  var myDate = new Date();\r\n  if(isDate(date)){\r\n    myDate = date;\r\n  }else if(isNumber(date)){\r\n    day = date;\r\n  }\r\n  if(day){\r\n    var d = myDate.getDate() + day;\r\n    myDate = new Date(myDate.setDate(d));\r\n  }\r\n  return {\r\n    year : myDate.getFullYear(),\r\n    week : myDate.getDay(),\r\n    month : myDate.getMonth() + 1,\r\n    day : myDate.getDate(),\r\n    hour : myDate.getHours(),\r\n    minute : myDate.getMinutes(),\r\n    second : myDate.getSeconds(),\r\n    date : myDate,\r\n  }\r\n}\r\nexports.getTargetDate = getTargetDate;\r\n\r\n//兼IE6~8 indexOf()\r\nif ( !Array.prototype.indexOf ) {\r\n  Array.prototype.indexOf = function ( ele ) {\r\n      // 获取数组长度\r\n      var len = this.length;\r\n      // 检查值为数字的第二个参数是否存在，默认值为0\r\n      var fromIndex = Number( arguments[ 1 ] ) || 0;\r\n      // 当第二个参数小于0时，为倒序查找，相当于查找索引值为该索引加上数组长度后的值\r\n      if ( fromIndex < 0 ) {\r\n          fromIndex += len;\r\n      }\r\n      // 从fromIndex起循环数组\r\n      while ( fromIndex < len ) {\r\n          // 检查fromIndex是否存在且对应的数组元素是否等于ele\r\n          if ( fromIndex in this && this[ fromIndex ] === ele ) {\r\n              return fromIndex;\r\n          }\r\n          fromIndex++;\r\n      }\r\n      // 当数组长度为0时返回不存在的信号：-1\r\n      return -1;\r\n  }\r\n}\r\n//兼IE6~8 forEach()\r\nif ( !Array.prototype.forEach ) {\r\n  Array.prototype.forEach = function forEach( callback ) {\r\n      // 获取数组长度\r\n      var len = this.length;\r\n      if ( typeof callback != \"function\" ) {\r\n          throw new TypeError();\r\n      }\r\n      // thisArg为callback 函数的执行上下文环境\r\n      var thisArg = arguments[ 1 ];\r\n      for ( var i = 0; i < len; i++ ) {\r\n          if ( i in this ) {\r\n              // callback函数接收三个参数：当前项的值、当前项的索引和数组本身\r\n              callback.call( thisArg, this[ i ], i, this );\r\n          }\r\n      }\r\n  }\r\n}\r\n//兼IE6~8 map()\r\nif ( !Array.prototype.map ) {\r\n  Array.prototype.map = function ( callback ) {\r\n      // 获取数组长度\r\n      var len = this.length;\r\n      if ( typeof callback != \"function\" ) {\r\n          throw new TypeError();\r\n      }\r\n      // 创建跟原数组相同长度的新数组，用于承载经回调函数修改后的数组元素\r\n      var newArr = new Array( len );\r\n      // thisArg为callback 函数的执行上下文环境\r\n      var thisArg = arguments[ 1 ];\r\n      for ( var i = 0; i < len; i++ ) {\r\n          if ( i in this ) {\r\n              newArr[ i ] = callback.call( thisArg, this[ i ], i, this );\r\n          }\r\n      }\r\n      return newArr;\r\n  }\r\n}\r\n//兼IE6~8 filter()\r\nif ( !Array.prototype.filter ) {\r\n  Array.prototype.filter = function ( callback ) {\r\n      // 获取数组长度\r\n      var len = this.length;\r\n      if ( typeof callback != \"function\" ) {\r\n          throw new TypeError();\r\n      }\r\n      // 创建新数组，用于承载经回调函数修改后的数组元素\r\n      var newArr = new Array();\r\n      // thisArg为callback 函数的执行上下文环境\r\n      var thisArg = arguments[ 1 ];\r\n      for ( var i = 0; i < len; i++ ) {\r\n          if ( i in this ) {\r\n              if ( callback.call( thisArg, this[ i ], i, this ) ) {\r\n                  newArr.push( val );\r\n              }\r\n          }\r\n      }\r\n      return newArr;\r\n  }\r\n}\r\n//兼IE6~8 some()\r\nif ( !Array.prototype.some ) {\r\n  Array.prototype.some = function ( callback ) {\r\n      // 获取数组长度\r\n      var len = this.length;\r\n      if ( typeof callback != \"function\" ) {\r\n          throw new TypeError();\r\n      }\r\n      // thisArg为callback 函数的执行上下文环境\r\n      var thisArg = arguments[ 1 ];\r\n      for ( var i = 0; i < len; i++ ) {\r\n          if ( i in this && callback.call( thisArg, this[ i ], i, this ) ) {\r\n              return true;\r\n          }\r\n      }\r\n      return false;\r\n  }\r\n}\r\n//兼IE6~8 every()\r\nif ( !Array.prototype.every ) {\r\n  Array.prototype.every = function ( callback ) {\r\n      // 获取数组长度\r\n      var len = this.length;\r\n      if ( typeof callback != \"function\" ) {\r\n          throw new TypeError();\r\n      }\r\n      // thisArg为callback 函数的执行上下文环境\r\n      var thisArg = arguments[ 1 ];\r\n      for ( var i = 0; i < len; i++ ) {\r\n          if ( i in this && !callback.call( thisArg, this[ i ], i, this ) ) {\r\n              return false;\r\n          }\r\n      }\r\n      return true;\r\n  }\r\n}\r\n\r\nif (!Object.keys) {\r\n  Object.keys = (function () {\r\n    var hasOwnProperty = Object.prototype.hasOwnProperty,\r\n        hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\r\n        dontEnums = [\r\n          'toString',\r\n          'toLocaleString',\r\n          'valueOf',\r\n          'hasOwnProperty',\r\n          'isPrototypeOf',\r\n          'propertyIsEnumerable',\r\n          'constructor'\r\n        ],\r\n        dontEnumsLength = dontEnums.length;\r\n\r\n    return function (obj) {\r\n      if (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) \r\n        throw new TypeError('Object.keys called on non-object');\r\n\r\n      var result = [];\r\n      for (var prop in obj) {\r\n        if (hasOwnProperty.call(obj, prop)) result.push(prop);\r\n      }\r\n\r\n      if (hasDontEnumBug) {\r\n        for (var i=0; i < dontEnumsLength; i++) {\r\n          if (hasOwnProperty.call(obj, dontEnums[i])) result.push(dontEnums[i]);\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  })()\r\n};\r\n\r\nif (!Object.assign) {\r\n  Object.assign = function assign(target, varArgs) {\r\n    if (target == null) {\r\n      throw new TypeError('Cannot convert undefined or null to object');\r\n    }\r\n    var to = Object(target);\r\n    for (var index = 1; index < arguments.length; index++) {\r\n      var nextSource = arguments[index];\r\n      if (nextSource != null) {\r\n        for (var nextKey in nextSource) {\r\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n            to[nextKey] = nextSource[nextKey];\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return to;\r\n  }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var { CronParser } = require(\"./cronParser.js\");\r\nvar { CustomTimer } = require(\"./customTimer.js\");\r\nvar { isString , isObject, getDaysInYearMonth, getTargetDate} = require(\"./utils.js\");\r\n\r\nexports.CronActuator = CronActuator;\r\n\r\nfunction CronActuator(opts, cb){\r\n  if(!(this instanceof CronActuator)){\r\n    return new CronActuator(opts);\r\n  }\r\n  this.opts = {};\r\n  this.type; // 定时任务类型 1:纯 timeout/interval 定时；2: 纯cron 定时， 3:带 timeout 的 cron 定时\r\n  this.timers = [];\r\n  this.cb = cb;\r\n  this.wake = opts.wake || 3600000;  // 唤醒的间隔，以天为跨度\r\n  this.init(opts);\r\n}\r\n\r\nCronActuator.prototype.init = function(opts){\r\n  if(isString(opts)){\r\n    this.type = 2;\r\n    this.opts = new CronParser(opts);\r\n    this.opts.timeout = null;\r\n    this.opts.interval = null; \r\n  }\r\n  if(isObject(opts)){\r\n    var timerObj = {};\r\n    if(opts.cron){\r\n      this.type = 3;\r\n      timerObj = new CronParser(opts.cron);\r\n      if( !opts.timeout ){  // 没有延时的 cron 当做纯cron\r\n        this.type = 2;\r\n      }\r\n      this.opts.interval = null; \r\n    }else{\r\n      this.type = 1;\r\n    }\r\n    this.opts = Object.assign(opts, timerObj);\r\n  }\r\n}\r\nCronActuator.prototype.start = function(){\r\n  // 是否是真实的回调，考虑到cron 的时候，需要延时，还有唤醒定时任务的定时任务\r\n  this.opts.real = this.type === 1; \r\n  this.createTimer(this.opts, 1);\r\n}\r\n/** \r\n * type : 常见类型 1： 原始参数创建；2：通过计算创建\r\n*/\r\nCronActuator.prototype.createTimer = function(opts, type){\r\n  var self = this;\r\n  var timer = new CustomTimer(opts, function(){\r\n    self.createNextTimer();\r\n    // 不含 cron 的定时和 cron 非延时定时器 才执行回调，\r\n    if(opts.real){\r\n      self.cb(opts);\r\n    }\r\n  });\r\n  this.timers.push(timer);\r\n  timer.start();\r\n} \r\nCronActuator.prototype.createNextTimer = function(){\r\n  var self = this;\r\n  var opts = this.opts;\r\n  if(self.type == 1){\r\n    return;\r\n  }\r\n  if(opts.timeEnum){\r\n    var nextTime = calcNextTime(opts, self.wake);\r\n    //console.log(nextTime);\r\n    var data = {\r\n      timeout : nextTime.timeLen,\r\n      interval : 0,\r\n      real : nextTime.real,\r\n    }\r\n    this.createTimer(data, 2);\r\n  }\r\n}\r\nCronActuator.prototype.stop = CronActuator.prototype.clearAll = function(){\r\n  if(this.timers && this.timers.length){\r\n    var i = this.timers.length -1;\r\n    for(; i >= 0; i--){\r\n      var timer = this.timers[i];\r\n      this.cancel(timer);\r\n    }\r\n  }\r\n}\r\nCronActuator.prototype.cancel = function(timer, cb){\r\n  if(timer){\r\n    var timers = this.timers;\r\n    var idx = timers.indexOf(timer);\r\n    idx >= 0 && timers.splice(idx, 1);\r\n    timer && timer.clear();\r\n  }\r\n}\r\n\r\n// 计算下一个定时任务的时间\r\nfunction calcNextTime(opts, maxTime){\r\n  var times = opts.timeEnum;\r\n  var months = times.month;\r\n  var weeks = times.week;\r\n  var days = times.day;\r\n  var hours = times.hour;\r\n  var minutes = times.minute;\r\n  var seconds = times.second;\r\n  var nowDate = getTargetDate();\r\n  var nextDay = getTargetDate(parseInt(maxTime/3600000));\r\n\r\n  // 从月份开始找最后一个相等的\r\n  var arr = [\"second\", \"minute\", \"hour\", \"day\", \"month\"];\r\n  var i = arr.length - 1;  // 排除星期\r\n  for(; i >= 0; i--){\r\n    var item = times[arr[i]].times;\r\n    if(item.indexOf(nowDate[arr[i]]) < 0){\r\n      break;\r\n    }\r\n  }\r\n  var real = false;\r\n  var res = [];\r\n  var second, minute, hour, day, month;\r\n  for(var n = 0; n < arr.length; n++){\r\n    var item = times[arr[n]].times;\r\n    if(n < i){ // 从月开始第一个不在范围的 \r\n      res.push(item[0]);\r\n    }else{\r\n      if(arr[n] == \"second\"){\r\n        second = getTimeInArea(seconds, nowDate.second, 60, 1);\r\n        res.push(second[0]);\r\n      }\r\n      if(arr[n] == \"minute\"){\r\n        minute = getTimeInArea(minutes, nowDate.minute, 60, (second ? second[1] : 1));\r\n        res.push(minute[0]);\r\n      }\r\n      if(arr[n] == \"hour\"){\r\n        hour = getTimeInArea(hours, nowDate.hour, 24, (minute ? minute[1] : 1));\r\n        res.push(hour[0]);\r\n      }\r\n      if(arr[n] == \"day\"){\r\n        // 天数是不准的，需要精确计算\r\n        var max = getDaysInYearMonth(nowDate.year, nowDate.month).getDate();\r\n        var day = getTimeInArea(days, nowDate.day, max + 1, (hour ? hour[1] : 1)); \r\n        res.push(day[0]);\r\n      }\r\n      if(arr[n] == \"month\"){\r\n        month = getTimeInArea(months, nowDate.month, 13, (day ? day[1] : 1));\r\n        res.push(month[0]);\r\n      }\r\n    }\r\n  }\r\n  var time = new Date(nowDate.year + (month ? month[1] : 1), res[4]-1, res[3], res[2], res[1], res[0]);\r\n  //console.log(time);\r\n  // 是一天内的\r\n  var validTime = time.getTime() <= nextDay.date.getTime();\r\n  if( weeks.times.indexOf(time.getDay() || 7) > -1 && validTime){ \r\n    maxTime = time.getTime() - nowDate.date.getTime();\r\n    real = true;\r\n    /* if(maxTime < 1000){\r\n      setTimeout(function() {\r\n        maxTime = calcNextTime(opts, maxTime).timeLen;\r\n      }, 1000);\r\n    } */\r\n    \r\n  }\r\n  // 都是超过时间范围的，直接返回最大值\r\n  return { timeLen : maxTime, real : real} //[maxTime, real];\r\n}\r\n\r\n// 获取 时间区间\r\nfunction getTimeInArea(opts, val, max, increase){\r\n  var times = opts.times;\r\n  var step = parseInt((val + increase) / max);\r\n  var newVal = parseInt((val + increase) % max);\r\n  for(var i = 0; i < times.length; i++){\r\n    if(times[i] >= newVal && newVal < max){ // 后面这个判断主要是因为月份是动态的，比如 2 月最多只有 29天，枚举里面却可以有 31 天\r\n      return [times[i], step];\r\n    }\r\n  }\r\n  return [times[0], step + 1];\r\n}\r\n\r\n\r\n\r\n/*\r\n\r\nhttps://www.cnblogs.com/yanghj010/p/10875151.html\r\n\r\n不受支持的 Cron 功能\r\n目前，不支持W（最近的工作日）和L（每月/每周的最后一天）， 包括#（每月的第 n 个工作日）。\r\nL W C #\r\n流行的 cron 实现支持的大多数其他功能应该可以正常工作.\r\n\r\n字段\t允许值\t允许的特殊字符\r\n秒（Seconds）\t0~59的整数\t, - * /    四个字符\r\n分（Minutes）\t0~59的整数\t, - * /    四个字符\r\n小时（Hours）\t0~23的整数\t, - * /    四个字符\r\n日期（DayofMonth）\t1~31的整数（但是你需要考虑你月的天数）\t,- * ? / L W C     八个字符\r\n月份（Month）\t1~12的整数或者 JAN-DEC\t, - * /    四个字符\r\n星期（DayofWeek）\t1~7的整数或者 SUN-SAT （1=SUN）\t, - * ? / L C #     八个字符\r\n年(可选，留空)（Year）\t1970~2099\t, - * /    四个字符\r\n\r\n*/"],"names":["exports","CronParser","cron","timeArea","cronParse","timeEnum","calcTime","crons","split","rex","cronList","len","length","n","push","i","item","test","parserItem","indexOf","times","arr","concat","start","parseInt","end","Math","min","x","step","data","second","normalizaTime","minute","hour","day","month","week","max","sort","a","b","CustomTimer","opts","cb","timeout","interval","prototype","setTimeout","fn","time","setInterval","clear","clearInterval","clearTimeout","self","immedi","isObject","obj","Object","toString","call","isFun","isArray","isString","str","isNumber","num","isDate","date","Date","getDaysInYearMonth","year","getTargetDate","myDate","d","getDate","setDate","getFullYear","getDay","getMonth","getHours","getMinutes","getSeconds","Array","ele","fromIndex","Number","arguments","forEach","callback","TypeError","thisArg","map","newArr","filter","val","some","every","keys","hasOwnProperty","hasDontEnumBug","propertyIsEnumerable","dontEnums","dontEnumsLength","result","prop","assign","target","varArgs","to","index","nextSource","nextKey","require","CronActuator","type","timers","wake","init","timerObj","real","createTimer","timer","createNextTimer","nextTime","calcNextTime","timeLen","stop","clearAll","cancel","idx","splice","maxTime","months","weeks","days","hours","minutes","seconds","nowDate","nextDay","res","getTimeInArea","validTime","getTime","increase","newVal"],"sourceRoot":""}